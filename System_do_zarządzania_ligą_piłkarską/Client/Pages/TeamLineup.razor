@page "/teams/{teamId:int}/lineup"
@using System.Net.Http
@using System_do_zarządzania_ligą_piłkarską.Shared.DTOs
@inject HttpClient Http
@inject NavigationManager Navigation

<h3>Kadra zespołu</h3>

<div class="button-container">
    <button class="btn btn-secondary" @onclick="GoBack">Wróć</button>
</div>

@if (teamLineup != null)
{
    <div>
        <h4>nie jest nullem :D</h4>  
    </div>
}
else
{
    <p>Ładowanie...</p>
}

@code {
    [Parameter]
    public int teamId { get; set; }
    private FootballerStatDTO[]? teamLineup;

    protected override async Task OnInitializedAsync()
    {
        teamLineup = await Http.GetFromJsonAsync<FootballerStatDTO[]>($"api/teams/{teamId}/footballers/stats/current");
    }
    private void GoBack()
    {
        Navigation.NavigateTo($"/teams/{teamId}");
    }
}
